---
title: "Copilot and VSCode - protecting sensitive data"
author:
  - "Martin Dahl√∂"
date: "2026-02-26"
date-modified: last-modified
categories: [ "Copilot", "VSCode", "AI", "IDE", "Secure Data Environment", "Tips and Tricks" ]
---

# Introduction

For Copilot (any other AI service) to be able to make suggestions for your code it has to look at what code you have so far. It could be when it suggest the next line of code you could write, or if it analyses your entire code base. The computations for making these suggestions are not done locally, so for it to be able to make a suggestion it has to send whatever code you have to the AI service's API where their GPU cluster will crunch the numbers and make a suggestion. This might be fine for your general code, but you don't want to to send things like API keys, login credentials, or other sensitive data you are not supposed to share with anyone.

This tutorial will show you steps you can take to protect sensitive date from being sent, and we will use VSCode and Copilot as our demo setup. It is inspired by the exellent blog post by *Miloslav Homer*, [Cautiously Configuring Copilot](https://code.kiwi.com/articles/cautiously-configuring-copilot/)


# Setting up the tools

## Man-in-the-Middle Proxy

To be able to see what is actually being sent to Copilot we will use a [man-in-the-middle proxy](https://en.wikipedia.org/wiki/Man-in-the-middle_attack) called [mitmproxy](https://hub.docker.com/r/mitmproxy/mitmproxy/). We will configure our Copilot plugin to send all requests through this proxy so that we can spy on what is being sent. We will also disable a security check (`Proxy Strict SSL`) in the plugin to make this possible, as the plugin will notice that the data is not being sent directly to the Copilot servers.

We'll begin with starting the [mitmproxy](https://hub.docker.com/r/mitmproxy/mitmproxy/) container with the following command:

```bash
docker run --rm -it -v ~/.mitmproxy:/home/mitmproxy/.mitmproxy -p 9999:8080 mitmproxy/mitmproxy
```

This will open a UI that shows you all traffic that goes through the proxy.


### VSCode

Install VSCode as usual, https://code.visualstudio.com/ , then

1. Open the settings with `Ctrl + ,`
2. Search for "proxy"
3. Enter `http://localhost:9999` as the `Http: Proxy` setting
4. Uncheck the `Http: Proxy Strict SSL` setting

![](./images/vscodium-proxy-settings.png)











